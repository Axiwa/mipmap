<?xml version="1.0"?>
<scene version="2.0.0">
  <!--Specifically left low to demonstrate mipmapping-->
  <default name="spp" value="1"/>
  <default name="side" value="16"/>
  <default name="pix_width" value="1024"/>
  <integrator type="direct">
  </integrator>
  <sensor type="perspective" id="Camera-camera">
    <string name="fov_axis" value="smaller"/>
    <float name="focus_distance" value="6.0"/>
    <float name="fov" value="28.8415"/>
    <transform name="to_world">
      <lookat target="0.5, 0.1, 0.95" origin="0, 0, 1" up="0, 0, 1"/>
    </transform>
    <sampler type="independent">
      <integer name="sample_count" value="$spp"/>
    </sampler>
    <film type="hdrfilm" id="film">
      <integer name="width" value="$pix_width"/>
      <integer name="height" value="$pix_width"/>
      <string name="pixel_format" value="rgb"/>
      <rfilter type="gaussian"/>
    </film>
  </sensor>
  <texture id="Mipmap-checkerboard" type="bitmap2">
  <!-- <string name="filter_type" value="nearest"/> -->
    <string name="filename" value="../../figures/check16.png"/>
    <string name="mipmap_filter_type" value="bilinear"/>
    <transform name="to_uv">
      <scale value="$side"/>
    </transform>
  </texture>
  <texture id="Mipmap-tile" type="bitmap2">
  <!-- <string name="filter_type" value="nearest"/> -->
    <string name="filename" value="../../figures/check16.png"/>
    <string name="mipmap_filter_type" value="bilinear"/>
    <transform name="to_uv">
      <scale value="$side"/>
    </transform>
  </texture>
  <shape type="obj">
	  <string name="filename" value="meshes/rectangle.obj"/>
    <transform name="to_world">
      <scale value="$side"/>
    </transform>
    <bsdf type="diffuse">
      <ref name="reflectance" id="Mipmap-checkerboard"/>
    </bsdf>
  </shape>
  <shape type="obj">
	  <string name="filename" value="meshes/rectangle.obj"/>
    <transform name="to_world">
      <rotate y="1" angle="-90"/>
      <scale value="$side"/>
      <translate x="$side"/>
    </transform>
    <bsdf type="diffuse">
      <ref name="reflectance" id="Mipmap-checkerboard"/>
    </bsdf>
  </shape>
  <shape type="obj">
	  <string name="filename" value="meshes/sphere.obj"/>
    <bsdf type="diffuse">
      <ref name="reflectance" id="Mipmap-tile"/>
    </bsdf>
    <transform name="to_world">
      <scale value="1.5"/>
      <rotate z="1" angle="-90"/>
	    <translate x="5" y="0" z="1"/>
    </transform>
  </shape>
  <emitter type="directional">
    <spectrum name="irradiance" value="2"/>
    <vector name="direction" value="0.5,0.0,-0.5"/>
  </emitter>
</scene>
